<!DOCTYPE html>
<html lang="cs">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#F2F2F7">
  <title>Pl√°nov√°n√≠ Smƒõn</title>

  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/components.css">
</head>

<body>

  <div id="loader">
    <div class="spinner"></div>
    <div class="loading-text">Naƒç√≠t√°m aplikaci...</div>
  </div>

  <div id="toast">
    <div id="toast-icon"></div>
    <span id="toast-msg">Ulo≈æeno</span>
  </div>

  <div class="app-container">

    <div id="login-view" class="view-section anim d-1">
      <div class="header-wrapper mb-4">
        <div class="brand-row">
          <div class="brand-logo"><img src="img/logo.png" alt="Logo"></div>
          <div class="brand-text">SMƒöNY</div>
        </div>
      </div>

      <div class="card login-card">
        <div class="login-tabs-wrapper mb-4">
          <button id="tabBrigadeer" class="login-tab active">
            <svg class="tab-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>Brig√°dn√≠k</span>
          </button>
          <button id="tabAdmin" class="login-tab">
            <svg class="tab-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 14a4 4 0 1 1 4-4 4 4 0 0 1-4 4z"></path>
              <path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>
              <circle cx="12" cy="12" r="3"></circle>
              <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
              </path>
            </svg>
            <span>Admin</span>
          </button>
        </div>

        <div class="input-group">
          <select id="userSelect" class="styled-input">
            <option value="" disabled selected>Vyberte sv√© jm√©no</option>
          </select>
        </div>

        <div class="input-group pin-group">
          <input type="password" id="pinInput" class="styled-input text-center" placeholder="Zadej PIN"
            inputmode="numeric" maxlength="6">
        </div>

        <button id="loginBtn" class="btn btn-primary full-width mt-2">Vstoupit</button>
      </div>
    </div>

    <div id="app-view" class="view-section hidden">

      <div class="app-header anim d-1">
        <div class="user-text-col">
          <h2 id="headerUserName">Jm√©no</h2>
          <span id="headerUserRole" class="role-badge">Role</span>
        </div>
        <button id="logoutBtn" class="btn-icon-small">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </button>
      </div>

      <div id="brigadeer-dashboard" class="dashboard-section hidden anim d-2">
        <div class="kpi-grid mb-4">
          <div class="kpi-card">
            <div class="kpi-label">PL√ÅNOV√ÅNO</div>
            <div class="kpi-val" id="b-planned-hours">0 h</div>
            <div class="kpi-explain text-accent" id="b-planned-shifts">0 smƒõn</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-label">ODPRACOV√ÅNO</div>
            <div class="kpi-val green" id="b-worked-hours">0 h</div>
            <div class="kpi-explain" id="b-worked-shifts">0 smƒõn</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-label" id="b-month-earn-label">V√ùDƒöLEK</div>
            <div class="kpi-val" id="b-month-earn">0 Kƒç</div>
            <div class="kpi-explain text-muted">Tento mƒõs√≠c</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-label">K V√ùPLATƒö</div>
            <div class="kpi-val text-green" id="b-balance">0 Kƒç</div>
            <div class="kpi-explain" id="b-paid">Vyplaceno: 0 Kƒç</div>
          </div>
        </div>
      </div>

      <div id="admin-dashboard" class="dashboard-section hidden anim d-2">
        <div class="card mb-4">
          <div class="card-header-line">
            <span class="card-label">P≈ôehled t√Ωmu</span>
            <div class="toggle-switch">
              <button id="adminViewMonthly" class="toggle-btn active">Mƒõs√≠c</button>
              <button id="adminViewTotal" class="toggle-btn">Celkem</button>
            </div>
          </div>
          <div class="table-wrapper">
            <table class="stats-table" id="adminStatsTable">
              <thead>
                <tr>
                  <th class="align-left">JM√âNO</th>
                  <th>HODIN</th>
                  <th>BILANCE</th>
                  <th>AKCE</th>
                </tr>
              </thead>
              <tbody id="adminStatsBody"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="calendar-wrapper anim d-3">
        <div class="calendar-header">
          <button id="prevMonthBtn" class="nav-btn">‚Äπ</button>
          <h3 id="calendarMonthTitle">Leden 2024</h3>
          <button id="nextMonthBtn" class="nav-btn">‚Ä∫</button>
        </div>
        <div class="calendar-weekdays">
          <div>Po</div>
          <div>√öt</div>
          <div>St</div>
          <div>ƒåt</div>
          <div>P√°</div>
          <div>So</div>
          <div>Ne</div>
        </div>
        <div id="calendarGrid" class="calendar-grid"></div>
        <div class="calendar-legend mt-4">
          <div class="legend-item"><span class="dot confirmed"></span>Potvrzeno</div>
          <div class="legend-item"><span class="dot pending"></span>Z√°jem</div>
          <div class="legend-item"><span class="dot free"></span>Volno</div>
        </div>
      </div>

    </div>
  </div>

  <dialog id="shiftDialog">
    <div class="modal-content">
      <div class="modal-title">
        <div class="modal-icon-lg" id="shiftModalIcon">üìÖ</div>
        <span id="shiftModalDate">...</span>
      </div>
      <div id="shiftModalBody" class="modal-body-content"></div>
      <div class="modal-footer" id="shiftModalFooter"></div>
      <button class="btn-close-abs" onclick="closeModal('shiftDialog')">‚úï</button>
    </div>
  </dialog>

  <dialog id="confirmDialog">
    <div class="modal-content text-center">
      <div class="modal-title">Potvrzen√≠</div>
      <p id="confirmMessage" class="mb-4 text-muted">Opravdu?</p>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('confirmDialog')">Zpƒõt</button>
        <button id="confirmActionBtn" class="btn btn-danger">Prov√©st</button>
      </div>
    </div>
  </dialog>

  <dialog id="payDialog">
    <div class="modal-content">
      <div class="modal-title">V√Ωplata</div>
      <div class="kpi-card mb-2 bg-light">
        <div class="kpi-label">K PROPLACEN√ç</div>
        <div class="kpi-val" id="payModalPayable">0 h</div>
      </div>
      <form id="payForm">
        <input type="number" id="payInputHours" placeholder="Poƒçet hodin" step="0.1" class="styled-input mb-2">
        <div class="text-center text-muted text-sm mb-4">
          Celkem: <strong id="payCalcAmount" class="text-primary">0 Kƒç</strong>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" onclick="closeModal('payDialog')">Zru≈°it</button>
          <button type="submit" class="btn btn-success">Vyplatit</button>
        </div>
      </form>
    </div>
  </dialog>

  <script src="js/app.js"></script>

</body>

</html>